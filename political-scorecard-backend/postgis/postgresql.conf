# postgresql.conf

# Connection Settings
listen_addresses = '*'              # Accept connections from any IP address
port = 5432                         # The default port to listen on

# Paths and File Locations
data_directory = '/var/lib/postgresql/data'  # Data directory location
hba_file = '/etc/postgresql/pg_hba.conf'    # Pointing to custom pg_hba.conf
ident_file = '/var/lib/postgresql/data/pg_ident.conf'  # Default identity file location

# Logging
log_destination = 'stderr'                   # Log output to standard error
logging_collector = on                       # Enable log file collection
log_directory = 'log'                        # Directory where log files will be stored
log_filename = 'postgresql-%Y-%m-%d.log'     # Log file naming convention
log_statement = 'all'                        # Log all statements for debugging purposes
log_min_duration_statement = 2000            # Log statements taking longer than 2000ms

# Logging all connection attempts and rejections
log_connections = on       # Logs successful connection attempts
log_disconnections = on    # Logs disconnections with session duration
log_hostname = on          # Logs the hostname of the connecting client

# Log authentication failures and errors
log_line_prefix = '%m [%p] %u@%d '  # Adds timestamp, process ID, user, and database name
log_statement = 'none'              # Log no specific queries (or 'all' if you want all queries logged)

# Log detailed information on errors, including rejected access
log_min_error_statement = error     # Logs queries with errors, including failed connections
log_min_messages = notice           # Logs notice-level or higher messages

# Security and Authentication
ssl = off                                    # Disable SSL (for testing; enable in production)